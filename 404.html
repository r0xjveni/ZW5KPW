<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">
<title>404 - Connection Lost</title>
<style>
:root { --bg: #0c0c0c; --error: #ff003c; }

body { margin: 0; height: 100vh; background: radial-gradient(ellipse at center, #1a1a2e 0%, var(--bg) 100%); display: flex; justify-content: center; align-items: center; font-family: 'Fira Code', monospace; color: var(--error); }

.container { text-align: center; padding: 40px; border: 1px solid var(--error); border-radius: 8px; background: rgba(12, 12, 12, 0.95); box-shadow: 0 0 40px rgba(255, 0, 60, 0.4); }

h1 { font-size: 48px; margin: 0; text-shadow: 0 0 20px var(--error); }

p { color: #888; margin-top: 20px; font-size: 14px; }

.error-code { color: #00ffcc; margin-top: 30px; font-size: 12px; }

.counter-info {
    color: #555;
    margin-top: 20px;
    font-size: 11px;
    font-style: italic;
}
</style>
</head>
<body>
<div class="container">
    <h1>404</h1>
    <p>Connection lost</p>
    <p>zgvszxrl entity not found</p>
    <div class="error-code" id="timestamp">Session terminated at 2025-08-25 23:47:12</div>

    <div class="counter-info" id="counter-info">
        <span style="color:#ff003c">警告：</span>检测到
        <span id="investigator-count" style="color:#00ffcc">0</span>
        名调查员已参与抹除协议
    </div>
</div>

<script>
// 显示用户访问的实时时间
(function() {
    const now = new Date();
    const dateStr = now.toISOString().slice(0, 10);
    const timeStr = now.toTimeString().slice(0, 8); // 获取当前HH:MM:SS
    document.getElementById('timestamp').textContent = 'Session terminated at ' + dateStr + ' ' + timeStr;
})();

// 从后端API获取调查员计数
async function showCount() {
    try {
        const res = await fetch('https://r0xjveni-api.vercel.app/api/verify', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ action: 'get_count' })
        });
        const data = await res.json();
        document.getElementById('investigator-count').textContent = data.count || 0;
    } catch (err) {
        document.getElementById('counter-info').style.display = 'none';
    }
}

showCount();
</script>
</body>
</html>
